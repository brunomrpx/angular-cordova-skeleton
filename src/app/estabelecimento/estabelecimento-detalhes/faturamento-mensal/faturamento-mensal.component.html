<div class="panel panel-default panel-card collapsable-panel" *ngIf="estabelecimento">
  <div class="panel-heading">
    <div class="row">
      <div class="col-xs-12">
        <strong>Faturamento (últimos 3 meses)</strong>
      </div>
    </div>
  </div>
  <div class="panel-body">
    <app-collapse-content *ngFor="let bandeira of estabelecimento.bandeiras">
      <div class="title">
        <div class="row bottom-dotted collapsable-panel__title">
          <div class="col-xs-6">
            <i class="fa fa-circle margin-right" [ngClass]="{ 'status--1': bandeira.status, 'status--2': !bandeira.status }"></i>
            <strong>{{ bandeira.nome }}</strong>
          </div>
          <div class="col-xs-6 text-right">
            <span class="faturamento__valor">R$ {{ estabelecimento.faturamentoTotal | number:'.0-0' }}</span>
            <i class="fa fa-ellipsis-v text-secondary collapsable-panel__toggle"></i>
          </div>
        </div>
      </div>
      <div class="content">
        <div class="collapsable-panel__content">
          <div *ngFor="let periodo of bandeira.periodos">
            <div class="row collapsable-panel__item">
              <div class="col-xs-6">
                <i class="text-capitalize">{{ periodo.dataInicio|date:"MMMM" }}</i>
              </div>
              <div class="col-xs-6 text-right faturamento__valor">R$ {{ periodo.valor | number:'.0-0' }}</div>
            </div>
          </div>
          <div class="row header-divider">
            <div class="col-xs-12">Transações</div>
          </div>
          <div *ngFor="let periodo of bandeira.periodos">
            <div class="row collapsable-panel__item">
              <div class="col-xs-6">
                <i class="text-capitalize">{{ periodo.dataInicio|date:"MMMM" }}</i>
              </div>
              <div class="col-xs-6 text-right">{{ periodo.qtdTransacoes }}</div>
            </div>
          </div>
        </div>
      </div>
    </app-collapse-content>
  </div>
  <div class="panel-footer">
    <div class="row header-divider header-divider--2">
      <div class="col-xs-12">
        Faturamentos
      </div>
    </div>
    <div class="row">
      <div class="col-xs-6">
        <strong>Potencial:</strong>
      </div>
      <div class="col-xs-6 text-right">SOW:</div>
    </div>
    <div class="row bottom-dotted padding-bottom">
      <div class="col-xs-6">
        R$
        <span *ngIf="estabelecimento.faturamentoPotencial">{{ estabelecimento.faturamentoPotencial | number:'.0-0' }}</span>
        <span *ngIf="!estabelecimento.faturamentoPotencial">-</span>
      </div>
      <div class="col-xs-6 text-right">
        <span *ngIf="estabelecimento.sow">{{ estabelecimento.sow | number }}</span>
        <span *ngIf="!estabelecimento.sow">-</span>
        %
      </div>
    </div>
    <div class="row">
      <div class="col-xs-6">
        <strong>Termo de Compromisso:</strong>
      </div>
      <div class="col-xs-6 text-right">SOW:</div>
    </div>
    <div class="row">
      <div class="col-xs-6">
        R$
        <span *ngIf="estabelecimento.faturamentoTermoCompromisso">{{ estabelecimento.faturamentoTermoCompromisso|number:'.0-0'}}</span>
        <span *ngIf="!estabelecimento.faturamentoTermoCompromisso">-</span>
      </div>
      <div class="col-xs-6 text-right">
        <span *ngIf="estabelecimento.sowtermo">{{ estabelecimento.sowtermo | number }}</span>
        <span *ngIf="!estabelecimento.sowtermo">-</span>
        %
      </div>
    </div>
    <div class="row">
      <div class="col-xs-12">
        <div>
          <strong>Vigência:</strong>
        </div>
        <span *ngIf="estabelecimento.dataVigenciaTermo">{{ estabelecimento.dataVigenciaTermo | date:"dd/MM/yyyy" }}</span>
        <span *ngIf="!estabelecimento.dataVigenciaTermo">-</span>
      </div>
    </div>
  </div>
</div>
